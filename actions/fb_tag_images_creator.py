from bunk.action import BunkAction

# ------------------------------------------------------------------------------------------------------------------
# RESPON ERROR CODES
# ------------------------------------------------------------------------------------------------------------------

RESP_ERROR_CODE_NO_IMAGE_TEXT_RECEIVED = 1

# ------------------------------------------------------------------------------------------------------------------
# ACTION CLASS
# ------------------------------------------------------------------------------------------------------------------

class FbTagImageCreatorAction (BunkAction):

    # ------------------------------------------------------------------------------------------------------------------
    # INTERNAL METHODS
    # ------------------------------------------------------------------------------------------------------------------

    # ------------------------------------------------------------------------------------------------------------------
    # REQUEST HANDLERS
    # ------------------------------------------------------------------------------------------------------------------

    def post (self, client):

        if not "image_text" in client.params:
            # no image_text recieved so respond with error
            self.respond_error(client, RESP_ERROR_CODE_NO_IMAGE_TEXT_RECEIVED, "No image text received")
            return

        # create images
        image_text = client.params["image_text"]

        self.respond(client, {"image_text": image_text});
